<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Plotting Objects After Estimation of the Heterogenous Treatment Effects — didnpplot • didnp</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Plotting Objects After Estimation of the Heterogenous Treatment Effects — didnpplot"><meta name="description" content="The didnpplot take output created by didnpreg and produces plots of Heterogeneous Treatment Effects with their corresponding confidence bounds. Average effects per group are produced for discrete covariates and a continuum of effects are produced for continuous covariates."><meta property="og:description" content="The didnpplot take output created by didnpreg and produces plots of Heterogeneous Treatment Effects with their corresponding confidence bounds. Average effects per group are produced for discrete covariates and a continuum of effects are produced for continuous covariates."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">didnp</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Unreleased version">1.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../illustration.html">User Guide/Illustration</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">All functions manuals</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News/Changelog</a></li>
<li class="nav-item"><a class="nav-link" href="../stata.html">Stata Codes</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Plotting Objects After Estimation of the Heterogenous Treatment Effects</h1>

      <div class="d-none name"><code>didnpplot.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The <code>didnpplot</code> take output created by <a href="didnpreg.html">didnpreg</a> and produces plots of Heterogeneous Treatment Effects with their corresponding confidence bounds. Average effects per group are produced for discrete covariates and a continuum of effects are produced for continuous covariates.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">didnpplot</span><span class="op">(</span></span>
<span>  <span class="va">obj</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"hte"</span>,</span>
<span>  level <span class="op">=</span> <span class="fl">95</span>,</span>
<span>  by <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  by.continuous.scale <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  over <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  xlab <span class="op">=</span> <span class="st">""</span>,</span>
<span>  ylab <span class="op">=</span> <span class="st">"ATET"</span>,</span>
<span>  over.lab <span class="op">=</span> <span class="st">"ATET over"</span>,</span>
<span>  over.ci.lab <span class="op">=</span> <span class="st">"Conf.Int."</span>,</span>
<span>  point.size <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  line.width <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  xaxis.label.angle <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  add.zero.line <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  by.labels.values <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  over.labels.values <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  text_size <span class="op">=</span> <span class="fl">17</span>,</span>
<span>  print.level <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-obj">obj<a class="anchor" aria-label="anchor" href="#arg-obj"></a></dt>
<dd><p>an object of class "didnp".</p></dd>


<dt id="arg-type">type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p>type of the plot. Default is 'hte'</p></dd>


<dt id="arg-by">by<a class="anchor" aria-label="anchor" href="#arg-by"></a></dt>
<dd><p>The categorical or continuous variable used in the regression analysis should be specified. The length of the vector should be equal to <code>n1 = n10 + n11</code> if the option <code>TTx = "TTb"</code> was selected when running <a href="didnpreg.html">didnpreg</a>, or <code>n11</code> if the option <code>TTx = "TTa"</code> was chosen.</p></dd>


<dt id="arg-by-continuous-scale">by.continuous.scale<a class="anchor" aria-label="anchor" href="#arg-by-continuous-scale"></a></dt>
<dd><p>The scale of a continuous variable can be set to three values. (1) Setting it to NULL implies that each unique value in the ‘by’ variable will be treated separately. (2) If you set it to a numeric vector of length 1 or a scalar, it will split the range of the continuous ‘by’ variable into the number of intervals specified by <code>by.continuous.scale</code>. (3) If you set it to a numeric vector, it will split the continuous ‘by’ variable into intervals defined by the specified vector. The default value is NULL.</p></dd>


<dt id="arg-over">over<a class="anchor" aria-label="anchor" href="#arg-over"></a></dt>
<dd><p>The categorical variable used in the regression analysis should be specified. The length of the vector should be equal to <code>n1 = n10 + n11</code> if the option <code>TTx = "TTb"</code> was selected when running <a href="didnpreg.html">didnpreg</a>, or <code>n11</code> if the option <code>TTx = "TTa"</code> was chosen.</p></dd>


<dt id="arg-xlab">xlab<a class="anchor" aria-label="anchor" href="#arg-xlab"></a></dt>
<dd><p>Label for horizontal axis. Default is "".</p></dd>


<dt id="arg-ylab">ylab<a class="anchor" aria-label="anchor" href="#arg-ylab"></a></dt>
<dd><p>Label for vertical axis. Default is "ATET".</p></dd>


<dt id="arg-over-lab">over.lab<a class="anchor" aria-label="anchor" href="#arg-over-lab"></a></dt>
<dd><p>Label for the legend. The default is "ATET over".</p></dd>


<dt id="arg-over-ci-lab">over.ci.lab<a class="anchor" aria-label="anchor" href="#arg-over-ci-lab"></a></dt>
<dd><p>Label for the legend. The default is  "Conf.Int.".</p></dd>


<dt id="arg-point-size">point.size<a class="anchor" aria-label="anchor" href="#arg-point-size"></a></dt>
<dd><p>of ATET. Default is 3.</p></dd>


<dt id="arg-line-width">line.width<a class="anchor" aria-label="anchor" href="#arg-line-width"></a></dt>
<dd><p>of ATET for the numeric "by". Default is 2.</p></dd>


<dt id="arg-xaxis-label-angle">xaxis.label.angle<a class="anchor" aria-label="anchor" href="#arg-xaxis-label-angle"></a></dt>
<dd><p>The angle of the axis. Default is 0.</p></dd>


<dt id="arg-add-zero-line">add.zero.line<a class="anchor" aria-label="anchor" href="#arg-add-zero-line"></a></dt>
<dd><p>add a solid horizontal line at 0. Default is TRUE.</p></dd>


<dt id="arg-by-labels-values">by.labels.values<a class="anchor" aria-label="anchor" href="#arg-by-labels-values"></a></dt>
<dd><p>For the categorical 'by" variable, the dataframe should have two columns. The first column should contain unique values for the 'by' variable, while the second column should contain corresponding values that would be displayed on a graph. By default, 'by.labels.values' is set to NULL, which means that the unique values from the 'by' variable will be used.</p></dd>


<dt id="arg-over-labels-values">over.labels.values<a class="anchor" aria-label="anchor" href="#arg-over-labels-values"></a></dt>
<dd><p>For the categorical 'over' variable, the dataframe should have two columns. The first column should contain unique values for the 'over' variable, while the second column should contain corresponding values that would be displayed on a graph. By default, 'over.labels.values' is set to NULL, which means that the unique values from the 'over' variable will be used.</p></dd>


<dt id="arg-text-size">text_size<a class="anchor" aria-label="anchor" href="#arg-text-size"></a></dt>
<dd><p>for ggplot object. Default is 17.</p></dd>


<dt id="arg-print-level">print.level<a class="anchor" aria-label="anchor" href="#arg-print-level"></a></dt>
<dd><p>The amount of printed output can be set to 0, 1, or 2. When set to 0, nothing is printed. When set to 1, only the structure of the work is printed. When set to 2, both the structure and the additional working are printed. The default value is 1.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>didnpplot</code> returns a dataframe containing containing the following columns:</p><table class="table table"><tr><td><code>plot.a</code></td><td>ggplot object</td></tr><tr><td></td><td></td></tr><tr><td><code>data.a</code></td><td>data used to produce <code>plot.a</code></td></tr><tr><td></td><td></td></tr><tr><td><code>plot.b</code></td><td>ggplot object for TTb if <code>TTb = TRUE</code> was used in running <a href="didnpreg.html">didnpreg</a></td></tr><tr><td></td><td></td></tr><tr><td><code>data.a</code></td><td>data used to produce <code>plot.b</code></td></tr></table></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Vector "by" (and "over") must be of length of TTa.i if <code>TTb = FALSE</code> was used in running <a href="didnpreg.html">didnpreg</a> and of length of TTb.i if <code>TTb = TRUE</code> was used in running <a href="didnpreg.html">didnpreg</a></p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>... (...). This. <em>Journal of </em>,
<b>1</b>(1), 1-1
<a href="https://doi.org/10." class="external-link">https://doi.org/10.</a></p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Oleg Badunenko <a href="mailto:oleg.badunenko@brunel.ac.uk">oleg.badunenko@brunel.ac.uk</a>,</p>
<p>Daniel J. Henderson <a href="mailto:djhender@cba.ua.edu">djhender@cba.ua.edu</a>,</p>
<p>Stefan Sperlich <a href="mailto:stefan.sperlich@unige.ch">stefan.sperlich@unige.ch</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">DACAsub</span>, package <span class="op">=</span> <span class="st">"didnp"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="co"># will get a data frame 'DACAsub' with 330106 rows and 18 columns</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># get the subsample</span></span></span>
<span class="r-in"><span>  <span class="va">DACAsub</span><span class="op">$</span><span class="va">mysmpl</span> <span class="op">&lt;-</span> <span class="va">mysmpl</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>    <span class="va">DACAsub</span><span class="op">$</span><span class="va">a1922</span><span class="op">==</span><span class="fl">1</span> <span class="op">&amp;</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">DACAsub</span><span class="op">$</span><span class="va">a1922</span><span class="op">)</span> <span class="op">&amp;</span></span></span>
<span class="r-in"><span>    <span class="va">DACAsub</span><span class="op">$</span><span class="va">htus</span><span class="op">==</span><span class="fl">1</span> <span class="op">&amp;</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">DACAsub</span><span class="op">$</span><span class="va">htus</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># generate 'treatment_period'</span></span></span>
<span class="r-in"><span>  <span class="va">DACAsub</span><span class="op">$</span><span class="va">treatment_period</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">DACAsub</span><span class="op">[</span>,<span class="st">"year"</span><span class="op">]</span><span class="op">&gt;</span><span class="fl">2011</span>,<span class="fl">1</span>,<span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># define formula with the weight</span></span></span>
<span class="r-in"><span>  <span class="va">form1</span> <span class="op">&lt;-</span> <span class="va">inschool</span> <span class="op">~</span> <span class="va">fem</span> <span class="op">+</span> <span class="va">race</span> <span class="op">+</span> <span class="va">var.bpl</span> <span class="op">+</span> <span class="va">state</span> <span class="op">+</span> <span class="va">age</span> <span class="op">+</span> <span class="va">yrimmig</span> <span class="op">+</span></span></span>
<span class="r-in"><span>    <span class="va">ageimmig</span> <span class="op">|</span> <span class="va">inschool</span> <span class="op">|</span> <span class="va">year</span> <span class="op">|</span> <span class="va">elig</span> <span class="op">|</span> <span class="va">treatment_period</span> <span class="op">|</span> <span class="va">perwt</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="va">tym1a</span> <span class="op">&lt;-</span> <span class="fu"><a href="didnpreg.html">didnpreg</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="va">form1</span>,</span></span>
<span class="r-in"><span>    data <span class="op">=</span> <span class="va">DACAsub</span>,</span></span>
<span class="r-in"><span>    subset <span class="op">=</span> <span class="va">mysmpl</span>,</span></span>
<span class="r-in"><span>    bwmethod <span class="op">=</span> <span class="st">"opt"</span>,</span></span>
<span class="r-in"><span>    boot.num <span class="op">=</span> <span class="fl">399</span>,</span></span>
<span class="r-in"><span>    TTb <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>    print.level <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>    cores <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># Print the summary</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">tym1a</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://OlegBadunenko.github.io/" class="external-link">Oleg Badunenko</a>, <a href="https://dhenderson.people.ua.edu/" class="external-link">Daniel J. Henderson</a>, <a href="https://www.unige.ch/gsem/en/research/faculty/all/stefan-sperlich/" class="external-link">Stefan Sperlich</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

